/* Main_Page/style.css */

html, body {
    height: 100vh; /* 뷰포트 높이에 맞춤 */
    margin: 0;
    padding: 0;
    font-family: 'Noto Sans KR', 'Mulish', sans-serif;
    background-color: #F5FAFF;
    color: #333;
    overflow: hidden; /* 페이지 레벨에서 스크롤바 생기는 것 방지 */
}

.main-dashboard-container {
    display: flex;
    width: 100%;
    height: 100%; /* 부모(body)의 높이를 100% 사용 */
    max-width: 1920px;
    box-sizing: border-box;
    margin: 0 auto; /* 최대 너비 시 중앙 정렬 */
}

.sidebar { /* 공통 사이드바 스타일 */
    background-color: #FFFFFF;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* Left Sidebar */
.left-sidebar {
    width: 260px;
    flex-basis: 260px; /* 명시적 기본 크기 */
    flex-shrink: 0;   /* 너비 축소 방지 */
    flex-grow: 0;     /* 너비 확장 방지 */
    border-right: 1px solid #E0E0E0;
    overflow-y: auto; /* 내용이 넘치면 이 사이드바 내부에서 스크롤 */
}

.profile-section {
    text-align: center;
    margin-bottom: 10px;
    padding-top: 20px;
    flex-shrink: 0; /* 이 섹션은 줄어들지 않도록 */
}

.profile-pic {
    width: 100px; /* 이전 요청에서 조정된 크기 유지 또는 필요시 수정 */
    height: 100px;
    border-radius: 50%;
    border: 3px solid #3377DD;
    margin-bottom: 10px;
    object-fit: cover;
}

.user-nickname {
    font-size: 20px; /* 이전 요청에서 조정된 크기 유지 또는 필요시 수정 */
    font-weight: bold;
    color: #333;
    margin-bottom: 20px;
}

.menu-section {
    flex-grow: 1; /* 로고를 제외한 남은 공간을 메뉴가 차지 */
    overflow-y: auto; /* 메뉴 항목이 많을 경우 스크롤 */
    margin-bottom: 10px; /* 로고와의 간격 */
}
.menu-section ul { list-style: none; padding: 0; margin: 0; }
.menu-section li { margin-bottom: 10px; }
.menu-section li a { display: flex; align-items: center; text-decoration: none; color: #555; padding: 12px 15px; border-radius: 8px; font-size: 16px; transition: background-color 0.3s, color 0.3s; }
.menu-section li a:hover, .menu-section li.active a { background-color: #3377DD; color: #FFFFFF; }
.menu-icon { width: 20px; height: 20px; margin-right: 15px; filter: grayscale(50%) opacity(0.7); }
.menu-section li a:hover .menu-icon, .menu-section li.active a .menu-icon { filter: brightness(0) invert(1); }

.logo-section {
    margin-top: auto; /* 자동 마진으로 하단에 붙이려 하지만, .menu-section이 grow하므로 여기선 큰 의미 없을 수 있음 */
    padding-top: 10px; /* 위쪽 메뉴와의 최소 간격 */
    text-align: center;
    padding-bottom: 0;
    flex-shrink: 0; /* 로고 섹션 크기 고정 */
}
.advisor-logo {
    width: 180px;
}

/* Center Content */
.main-content {
    flex-grow: 1;   /* 사용 가능한 나머지 너비를 모두 차지 */
    min-width: 0;   /* !!!! 중요: 내부 콘텐츠가 부모를 초과하여 늘어나는 것을 방지 !!!! */
    padding: 25px 35px; /* 내부 여백 */
    overflow-y: auto; /* 내용이 높이를 초과하면 이 중앙 콘텐츠 영역 내부에 스크롤바 생성 */
    overflow-x: hidden; /* 가로 스크롤바는 생기지 않도록 명시적 숨김 */
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

.welcome-header,
.health-summary,
.daily-feedback {
    width: 100%; /* 부모(.main-content) 너비에 맞춤 */
    box-sizing: border-box; /* 패딩과 보더가 너비에 포함되도록 */
    flex-shrink: 0; /* 이 섹션들 자체가 줄어들지 않도록 (내부 콘텐츠는 줄바꿈 또는 스크롤) */
}

.welcome-header h1 {
    font-size: 28px; color: #333; margin-top: 0; margin-bottom: 25px; font-weight: 700;
}
.welcome-header h1 span.username-highlight { /* 메인 페이지용 닉네임 스타일 */
    color: #3377DD;
    font-weight: bold;
}

.health-summary {
    background-color: #FFFFFF; padding: 25px; border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 30px;
}
.summary-title-container h2 { font-size: 22px; color: #333; margin-top: 0; margin-bottom: 25px; font-weight: 700; }
.scores-container { display: flex; align-items: center; justify-content: space-around; gap: 20px; }
.main-score-block { text-align: center; color: #3377DD; }
.main-score-block #health-score-value { font-size: 72px; font-weight: bold; }
.main-score-block .unit { font-size: 24px; font-weight: bold; margin-left: 5px; }
.detailed-scores-block { display: flex; flex-direction: column; gap: 18px; }
.score-item { display: flex; align-items: center; gap: 12px; background-color: #F8F9FA; padding: 10px 15px; border-radius: 8px; }
.score-icon { width: 30px; height: 30px; }
.score-text { font-size: 15px; color: #555; }
.score-text .score-label { font-weight: bold; color: #333; display: block; margin-bottom: 3px; }
.score-text span[id^="display-"] { font-weight: bold; color: #3377DD; }
.stress-score-block { text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 15px; background-color: #F8F9FA; border-radius: 10px; }
.score-icon-large { width: 40px; height: 40px; margin-bottom: 8px; }
.score-icon-feedback { width: 40px; height: 40px; margin-bottom: -7px; }
.stress-score-text .score-label { font-size: 16px; font-weight: bold; color: #333; display: block; }
.stress-score-text .score-label-small { font-size: 13px; color: #555; display: block; margin-top: -3px; }
.stress-score-value #stress-score-value { font-size: 36px; font-weight: bold; color: #E57373; }
.stress-score-value .unit { font-size: 16px; font-weight: bold; color: #E57373; margin-left: 3px; }

.daily-feedback {
    margin-top: 30px;
    /* 이 섹션이 남은 공간을 차지하고 스크롤되어야 한다면,
       .main-content가 display:flex; flex-direction:column; 이고
       이 .daily-feedback 이 flex-grow:1; overflow-y:auto; 를 가져야 하지만,
       현재는 .main-content 전체가 스크롤되므로, 이 섹션은 내용만큼의 높이를 가집니다. */
}
.daily-feedback h2 { font-size: 22px; margin-bottom: 20px; font-weight: 700; }
.feedback-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
.feedback-box { background-color: #FFFFFF; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); overflow: hidden; /* 내부 p가 넘치는 것을 방지 */ }
.feedback-box h3 { font-size: 18px; color: #3377DD; margin-top: 0; margin-bottom: 10px; display: flex; align-items: center; }
.feedback-icon { width: 18px; height: 18px; margin-right: 8px; filter: grayscale(30%) opacity(0.8); }
.feedback-box p {
    font-size: 14px; line-height: 1.6; color: #555;
    word-wrap: break-word;     /* 긴 단어나 URL 등이 있을 경우 강제 줄바꿈 */
    overflow-wrap: break-word; /* 표준 속성 */
}

/* Right Sidebar */
.right-sidebar {
    width: 320px;
    flex-basis: 320px; /* 명시적 기본 크기 */
    flex-shrink: 0;   /* 너비 축소 방지 */
    flex-grow: 0;     /* 너비 확장 방지 */
    background-color: #FFFFFF;
    border-left: 1px solid #E0E0E0;
    overflow-y: auto; /* 내용이 넘치면 이 사이드바 내부에서 스크롤 */
    padding: 20px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}
.right-sidebar-title {
    font-size: 20px; font-weight: bold; color: #333; margin-top: 10px; margin-bottom: 15px;
    text-align: center; padding-bottom: 10px; border-bottom: 1px solid #eee;
    flex-shrink: 0; /* 제목은 줄어들지 않도록 */
}
.date-display {
    display: flex; align-items: center; justify-content: center; font-size: 16px; color: #333;
    background-color: #EFEFEF; padding: 10px; border-radius: 8px; margin-bottom: 20px;
    flex-shrink: 0; /* 날짜 표시는 줄어들지 않도록 */
}
.date-display #current-date { margin-left: 8px; font-weight: bold; }

#daily-record-form {
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* 폼이 남은 수직 공간을 채움 */
    /* overflow: hidden; /* 폼 자체가 스크롤되는 것 방지 (내부 요소들은 이미 부모 .right-sidebar가 스크롤) */
}
#daily-record-form .form-group { margin-bottom: 15px; }
#daily-record-form label { display: flex; align-items: center; font-size: 14px; font-weight: bold; color: #444; margin-bottom: 6px; }
.sidebar-icon { width: 18px; height: 18px; margin-right: 8px; }
#daily-record-form input[type="number"],
#daily-record-form textarea {
    width: 100%; /* 부모 너비를 따름, padding은 box-sizing으로 처리 */
    padding: 10px;
    border: 1px solid #DDD;
    border-radius: 6px;
    background-color: #FDFDFD;
    font-size: 13px;
    outline: none;
    transition: border-color 0.3s;
    box-sizing: border-box;
}
#daily-record-form input[type="number"]:focus,
#daily-record-form textarea:focus { border-color: #3377DD; }
.time-inputs, .kcal-input { display: flex; align-items: center; gap: 8px; }
.time-inputs input[type="number"] { width: 50px; text-align: center; }
.kcal-input input[type="number"] { flex-grow: 1; }
.time-inputs span, .kcal-input span { font-size: 13px; color: #555; }
#daily-record-form textarea { min-height: 70px; resize: vertical; }
.char-counter { display: block; text-align: right; font-size: 11px; color: #777; margin-top: 4px; }

.submit-button {
    width: 100%; padding: 10px; background-color: #3377DD; color: #FFFFFF;
    border: none; border-radius: 8px; font-size: 15px; font-weight: bold;
    cursor: pointer; transition: background-color 0.3s;
    margin-top: auto; /* 버튼을 폼의 맨 아래로 밀어냄 */
    flex-shrink: 0; /* 버튼은 줄어들지 않도록 */
}
.submit-button:hover { background-color: #285ead; }

/* Responsive adjustments */
@media (max-width: 1200px) {
    .main-content { padding: 15px 20px; } /* 패딩 조정 */
    .scores-container { flex-direction: column; align-items: stretch; }
    .main-score-block, .stress-score-block { margin-bottom: 20px; }
    .detailed-scores-block { width: 100%; }
    .feedback-grid { grid-template-columns: 1fr; } /* 모바일에서는 1열로 */
}

@media (max-width: 768px) {
    html, body { height: auto; overflow: auto; } /* 모바일에서는 일반적인 스크롤 허용 */
    .main-dashboard-container {
        flex-direction: column;
        height: auto; /* 높이 자동 */
        min-height: 100vh; /* 최소 뷰포트 높이 유지 */
    }
    .left-sidebar, .right-sidebar, .main-content {
        width: 100%;
        height: auto; /* 높이 자동 */
        overflow-y: visible; /* 각 섹션 스크롤 대신 페이지 전체 스크롤 */
        flex-shrink: 1; /* 필요에 따라 줄어들 수 있도록 */
        min-width: initial; /* min-width:0 효과 제거 또는 auto */
        border-bottom: 1px solid #E0E0E0; /* 구분선 */
    }
    .left-sidebar { order: 1; border-right: none; }
    .main-content { order: 2; padding: 15px; overflow-x: hidden; /* 가로 스크롤은 항상 방지 */ }
    .right-sidebar { order: 3; border-left: none; }
    .logo-section { display: none; }
    .profile-section { padding-top: 10px; margin-bottom: 15px; }
    .menu-section { flex-grow: 0; overflow-y: visible; } /* 메뉴 스크롤 불필요 */
    .menu-section li a { padding: 10px; font-size: 15px; }
    #daily-record-form { flex-grow: 0; } /* 폼이 과도하게 늘어나는 것 방지 */
    .submit-button { margin-top: 20px; } /* 하단 여백 확보 */
}
